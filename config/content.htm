<h1>首頁</h1>
<p>2021/6/4 第十五周 更新</p>
<p>前幾組做的東西將分別放入新增的頁面(bg1,bg2)中</p>
<p><a href="https://github.com/40823233/cd2021">我的倉儲</a></p>
<p>分組:</p>
<p>W2-W4 (3 Weeks): 二人一組，組長是我</p>
<p><a href="https://40823233.github.io/stage1-bg27/content/index.html">組別網頁</a></p>
<p>W5-W9 (5 Weeks): 四人一組，組長:<a class="commit-author user-mention" href="https://github.com/40623144/stage2-bg8" title="View all commits by 40623144">40623144</a></p>
<p><a href="https://40623144.github.io/stage2-bg8/content/index.html">組別網頁</a></p>
<p>W10-W18 (9 Weeks): 八人一組，組長:<a class="commit-author user-mention" href="https://github.com/40623144/stage3-bg7" title="View all commits by 40623144">40623144</a></p>
<p><a href="https://40623144.github.io/stage3-bg7/content/index.html">組別網頁</a></p>
<p></p>
<h1>W5</h1>
<table height="557" style="width: 216px;">
<tbody>
<tr style="height: 14px;">
<td style="height: 14px; width: 82.3864px;"><span>組別(乙班)</span></td>
<td style="height: 14px; width: 117.841px;"><span>時間</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">1</td>
<td style="height: 13px; width: 117.841px;">07:14</td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">2</td>
<td style="height: 13px; width: 117.841px;">01:55</td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">3</td>
<td style="height: 13px; width: 117.841px;">01:55</td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">4</td>
<td style="height: 13px; width: 117.841px;">02:51</td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">5</td>
<td style="height: 13px; width: 117.841px;"><span>03:00</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">6</td>
<td style="height: 13px; width: 117.841px;"><span>03:07</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">7</td>
<td style="height: 13px; width: 117.841px;"><span>02:47</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">8</td>
<td style="height: 13px; width: 117.841px;"><span>03:25</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">9</td>
<td style="height: 13px; width: 117.841px;"><span>02:43</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">10</td>
<td style="height: 13px; width: 117.841px;"><span>02:20</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">11</td>
<td style="height: 13px; width: 117.841px;"><span>01:38</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">12</td>
<td style="height: 13px; width: 117.841px;"><span>01:47</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">13</td>
<td style="height: 13px; width: 117.841px;"><span>02:09</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">14</td>
<td style="height: 13px; width: 117.841px;"><span>05:58</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">15</td>
<td style="height: 13px; width: 117.841px;"><span>03:24</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">16</td>
<td style="height: 13px; width: 117.841px;"><span>03:33</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">17</td>
<td style="height: 13px; width: 117.841px;"><span>04:33</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">18</td>
<td style="height: 13px; width: 117.841px;"><span>05:03</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">19</td>
<td style="height: 13px; width: 117.841px;"><span>03:11</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">20</td>
<td style="height: 13px; width: 117.841px;"><span>03:32</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">21</td>
<td style="height: 13px; width: 117.841px;"><span>05:02</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">22</td>
<td style="height: 13px; width: 117.841px;"><span>04:46</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">23</td>
<td style="height: 13px; width: 117.841px;"><span>02:55</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">24</td>
<td style="height: 13px; width: 117.841px;"><span>05:00</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">25</td>
<td style="height: 13px; width: 117.841px;"><span>04:53</span></td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">26</td>
<td style="height: 13px; width: 117.841px;">00:00</td>
</tr>
<tr style="height: 13px;">
<td style="height: 13px; width: 82.3864px;">27</td>
<td style="height: 13px; width: 117.841px;"><span>03:43</span></td>
</tr>
</tbody>
</table>
<h1>stage1-bg27</h1>
<p>此次分組中我是組長，由另一個人進行繪圖模擬，我於其繪圖中進行討論哪裡需要修改，而我則負責處理網頁，做報告，報告等。因此圖及模擬除了在分組網頁中，應該要由另一人放入自己網頁中。</p>
<p>因認知錯誤，我只做了pdf，其他東西都放在<a href="https://40823233.github.io/stage1-bg27/content/index.html" rel="nofollow">網頁</a>中。</p>
<p><a href="https://github.com/40823233/stage1-bg27/blob/main/downloads/2021-%E5%8D%94%E5%90%8C%E7%94%A2%E5%93%81%E8%A8%AD%E8%A8%88%E5%AF%A6%E7%BF%92-stage1-bg27.pdf">PDF</a></p>
<p>其餘內容於報告中口頭描述。</p>
<h1>stage2-bg8</h1>
<p>第二次分組組長為40623144</p>
<p>我負責做<a href="https://40623144.github.io/stage2-bg8/reveal/index.html#/">reveal</a>及分組部分頁面的調整。</p>
<p>以及最後繳交的<a href="https://github.com/40623144/stage2-bg8/blob/48291746e0626f55a2de1a32d20037018e2ebdf1/downloads/2021-%E5%8D%94%E5%90%8C%E7%94%A2%E5%93%81%E8%A8%AD%E8%A8%88%E5%AF%A6%E7%BF%92-stage2-bg8.pdf">PDF</a>及<a href="https://www.youtube.com/watch?v=FecxkBLTXnc">模擬影片</a>上傳<img alt="" height="87" src="/images/40823233.png" width="300"/></p>
<p><a class="pl-3 pr-3 py-3 p-md-0 mt-n3 mb-n3 mr-n3 m-md-0 Link--primary no-underline no-wrap" data-pjax="" href="https://github.com/40623144/stage2-bg8/commits/main"><span class="d-none d-sm-inline"><span aria-label="Commits on main" class="color-text-secondary d-none d-lg-inline">commits</span></span></a>可以證明我所做的事情。</p>
<p>較為可惜的是報告當時繪圖的人不在，緊急之下跳過許多關於繪圖的部分，導致報告的很爛。</p>
<h1>stage3-bg7</h1>
<p>本次分組組員</p>
<p><a href="https://40623144.github.io/cd2021">40623144</a></p>
<p><a href="https://40823233.github.io/cd2021">40823233</a></p>
<p><a href="https://s40723224.github.io/cd2021">40723224</a></p>
<p><a href="https://40823241.github.io/cd2021">40823241</a></p>
<p><a href="https://40423155.github.io/cd2021">40423155</a></p>
<p><a href="https://40823227.github.io/cd2021">40823227</a></p>
<p><a href="https://s40723233.github.io/cd2021">40723233</a></p>
<h2>W13</h2>
<p>機械手臂程式</p>
<p>參考組長影片:<a href="https://40623144.github.io/cd2021/content/%E7%AC%AC%E5%8D%81%E4%B8%89%E9%80%B1.html">模擬影片</a></p>
<div class="line number1 index0 alt2"><code class="py keyword">from</code> <code class="py plain">robolink </code><code class="py keyword">import</code> <code class="py keyword">*</code></div>
<div class="line number2 index1 alt1"><code class="py keyword">from</code> <code class="py plain">robodk </code><code class="py keyword">import</code> <code class="py keyword">*</code></div>
<div class="line number3 index2 alt2"> </div>
<div class="line number4 index3 alt1"><code class="py keyword">import</code> <code class="py plain">os</code></div>
<div class="line number5 index4 alt2"> </div>
<div class="line number6 index5 alt1"><code class="py plain">dir_path </code><code class="py keyword">=</code> <code class="py plain">os.path.dirname(os.path.realpath(__file__))</code></div>
<div class="line number7 index6 alt2"><code class="py functions">print</code><code class="py plain">(dir_path)</code></div>
<div class="line number8 index7 alt1"><code class="py comments"># Calculate pyramid coordinate</code></div>
<div class="line number9 index8 alt2"> </div>
<div class="line number10 index9 alt1"><code class="py comments"># Setup global parameters</code></div>
<div class="line number11 index10 alt2"><code class="py plain">BALL_DIAMETER </code><code class="py keyword">=</code> <code class="py value">100</code> <code class="py comments"># diameter of one ball</code></div>
<div class="line number12 index11 alt1"><code class="py plain">APPROACH </code><code class="py keyword">=</code> <code class="py value">100</code> <code class="py comments"># approach distance to grab each part, in mm</code></div>
<div class="line number13 index12 alt2"><code class="py plain">nTCPs </code><code class="py keyword">=</code> <code class="py value">6</code> <code class="py comments"># number of TCP's in the tool</code></div>
<div class="line number14 index13 alt1"> </div>
<div class="line number15 index14 alt2"><code class="py keyword">def</code> <code class="py plain">pyramid_calc(BALLS_SIDE</code><code class="py keyword">=</code><code class="py value">4</code><code class="py plain">):</code></div>
<div class="line number16 index15 alt1"><code class="py comments">"""Calculate a list of points (ball center) as if the balls were place in a pyramid"""</code></div>
<div class="line number17 index16 alt2"><code class="py comments">#the number of balls can be calculated as: int(BALLS_SIDE*(BALLS_SIDE+1)*(2*BALLS_SIDE+1)/6)</code></div>
<div class="line number18 index17 alt1"><code class="py comments">#BALL_DIAMETER = 100</code></div>
<div class="line number19 index18 alt2"><code class="py plain">xyz_list </code><code class="py keyword">=</code> <code class="py plain">[]</code></div>
<div class="line number20 index19 alt1"><code class="py plain">sqrt2 </code><code class="py keyword">=</code> <code class="py value">2</code><code class="py keyword">*</code><code class="py keyword">*</code><code class="py plain">(</code><code class="py value">0.5</code><code class="py plain">)</code></div>
<div class="line number21 index20 alt2"><code class="py keyword">for</code> <code class="py plain">h </code><code class="py keyword">in</code> <code class="py functions">range</code><code class="py plain">(BALLS_SIDE):</code></div>
<div class="line number22 index21 alt1"><code class="py keyword">for</code> <code class="py plain">i </code><code class="py keyword">in</code> <code class="py functions">range</code><code class="py plain">(BALLS_SIDE</code><code class="py keyword">-</code><code class="py plain">h):</code></div>
<div class="line number23 index22 alt2"><code class="py keyword">for</code> <code class="py plain">j </code><code class="py keyword">in</code> <code class="py functions">range</code><code class="py plain">(BALLS_SIDE</code><code class="py keyword">-</code><code class="py plain">h):</code></div>
<div class="line number24 index23 alt1"><code class="py plain">height </code><code class="py keyword">=</code> <code class="py plain">h</code><code class="py keyword">*</code><code class="py plain">BALL_DIAMETER</code><code class="py keyword">/</code><code class="py plain">sqrt2 </code><code class="py keyword">+</code> <code class="py plain">BALL_DIAMETER</code><code class="py keyword">/</code><code class="py value">2</code></div>
<div class="line number25 index24 alt2"><code class="py plain">xyz_list </code><code class="py keyword">=</code> <code class="py plain">xyz_list </code><code class="py keyword">+</code> <code class="py plain">[[i</code><code class="py keyword">*</code><code class="py plain">BALL_DIAMETER </code><code class="py keyword">+</code> <code class="py plain">(h</code><code class="py keyword">+</code><code class="py value">1</code><code class="py plain">)</code><code class="py keyword">*</code><code class="py plain">BALL_DIAMETER</code><code class="py keyword">*</code><code class="py value">0.5</code><code class="py plain">, j</code><code class="py keyword">*</code><code class="py plain">BALL_DIAMETER </code><code class="py keyword">+</code> <code class="py plain">(h</code><code class="py keyword">+</code><code class="py value">1</code><code class="py plain">)</code><code class="py keyword">*</code><code class="py plain">BALL_DIAMETER</code><code class="py keyword">*</code><code class="py value">0.5</code><code class="py plain">, height]]</code></div>
<div class="line number26 index25 alt1"><code class="py keyword">return</code> <code class="py plain">xyz_list</code></div>
<div class="line number27 index26 alt2"> </div>
<div class="line number28 index27 alt1"><code class="py keyword">def</code> <code class="py plain">TCP_On(toolitem, tcp_id):</code></div>
<div class="line number29 index28 alt2"><code class="py comments">"""Attach the closest object to the toolitem Htool pose,</code></div>
<div class="line number30 index29 alt1"><code class="py comments">furthermore, it will output appropriate function calls on the generated robot program (call to TCP_On)"""</code></div>
<div class="line number31 index30 alt2"><code class="py plain">toolitem.AttachClosest()</code></div>
<div class="line number32 index31 alt1"><code class="py plain">toolitem.RDK().RunMessage(</code><code class="py string">'Set air valve %i on'</code> <code class="py keyword">%</code> <code class="py plain">(tcp_id</code><code class="py keyword">+</code><code class="py value">1</code><code class="py plain">))</code></div>
<div class="line number33 index32 alt2"><code class="py plain">toolitem.RDK().RunProgram(</code><code class="py string">'TCP_On(%i)'</code> <code class="py keyword">%</code> <code class="py plain">(tcp_id</code><code class="py keyword">+</code><code class="py value">1</code><code class="py plain">));</code></div>
<div class="line number34 index33 alt1"> </div>
<div class="line number35 index34 alt2"><code class="py keyword">def</code> <code class="py plain">TCP_Off(toolitem, tcp_id, itemleave</code><code class="py keyword">=</code><code class="py value">0</code><code class="py plain">):</code></div>
<div class="line number36 index35 alt1"><code class="py comments">"""Detaches the closest object attached to the toolitem Htool pose,</code></div>
<div class="line number37 index36 alt2"><code class="py comments">furthermore, it will output appropriate function calls on the generated robot program (call to TCP_Off)"""</code></div>
<div class="line number38 index37 alt1"><code class="py plain">toolitem.DetachAll(itemleave)</code></div>
<div class="line number39 index38 alt2"><code class="py plain">toolitem.RDK().RunMessage(</code><code class="py string">'Set air valve %i off'</code> <code class="py keyword">%</code> <code class="py plain">(tcp_id</code><code class="py keyword">+</code><code class="py value">1</code><code class="py plain">))</code></div>
<div class="line number40 index39 alt1"><code class="py plain">toolitem.RDK().RunProgram(</code><code class="py string">'TCP_Off(%i)'</code> <code class="py keyword">%</code> <code class="py plain">(tcp_id</code><code class="py keyword">+</code><code class="py value">1</code><code class="py plain">));</code></div>
<div class="line number41 index40 alt2"> </div>
<div class="line number42 index41 alt1"><code class="py comments"># Make a list of positions to place the objects</code></div>
<div class="line number43 index42 alt2"><code class="py plain">balls_list </code><code class="py keyword">=</code> <code class="py plain">pyramid_calc(</code><code class="py value">4</code><code class="py plain">)</code></div>
<div class="line number44 index43 alt1"> </div>
<div class="line number45 index44 alt2"><code class="py comments">#print(len(frame1_list))</code></div>
<div class="line number46 index45 alt1"><code class="py comments"># 4*4 = 16</code></div>
<div class="line number47 index46 alt2"><code class="py comments"># 3*3 = 9</code></div>
<div class="line number48 index47 alt1"><code class="py comments"># 2*2 = 4</code></div>
<div class="line number49 index48 alt2"><code class="py comments"># 1+4+9+16 = 30</code></div>
<div class="line number50 index49 alt1"> </div>
<div class="line number51 index50 alt2"><code class="py comments"># height 50*sqrt(2)</code></div>
<div class="line number52 index51 alt1"><code class="py comments">'''</code></div>
<div class="line number53 index52 alt2"><code class="py comments">[</code></div>
<div class="line number54 index53 alt1"> </div>
<div class="line number55 index54 alt2"><code class="py comments">[50.0, 50.0, 50.0], [50.0, 150.0, 50.0], [50.0, 250.0, 50.0], [50.0, 350.0, 50.0],</code></div>
<div class="line number56 index55 alt1"> </div>
<div class="line number57 index56 alt2"><code class="py comments">[150.0, 50.0, 50.0], [150.0, 150.0, 50.0], [150.0, 250.0, 50.0], [150.0, 350.0, 50.0],</code></div>
<div class="line number58 index57 alt1"> </div>
<div class="line number59 index58 alt2"><code class="py comments">[250.0, 50.0, 50.0], [250.0, 150.0, 50.0], [250.0, 250.0, 50.0], [250.0, 350.0, 50.0],</code></div>
<div class="line number60 index59 alt1"> </div>
<div class="line number61 index60 alt2"><code class="py comments">[350.0, 50.0, 50.0], [350.0, 150.0, 50.0], [350.0, 250.0, 50.0], [350.0, 350.0, 50.0],</code></div>
<div class="line number62 index61 alt1"> </div>
<div class="line number63 index62 alt2"> </div>
<div class="line number64 index63 alt1"><code class="py comments">[100.0, 100.0, 120.71067811865474], [100.0, 200.0, 120.71067811865474], [100.0, 300.0, 120.71067811865474],</code></div>
<div class="line number65 index64 alt2"> </div>
<div class="line number66 index65 alt1"><code class="py comments">[200.0, 100.0, 120.71067811865474], [200.0, 200.0, 120.71067811865474], [200.0, 300.0, 120.71067811865474],</code></div>
<div class="line number67 index66 alt2"> </div>
<div class="line number68 index67 alt1"><code class="py comments">[300.0, 100.0, 120.71067811865474], [300.0, 200.0, 120.71067811865474], [300.0, 300.0, 120.71067811865474],</code></div>
<div class="line number69 index68 alt2"> </div>
<div class="line number70 index69 alt1"> </div>
<div class="line number71 index70 alt2"><code class="py comments">[150.0, 150.0, 191.42135623730948], [150.0, 250.0, 191.42135623730948],</code></div>
<div class="line number72 index71 alt1"> </div>
<div class="line number73 index72 alt2"><code class="py comments">[250.0, 150.0, 191.42135623730948], [250.0, 250.0, 191.42135623730948],</code></div>
<div class="line number74 index73 alt1"> </div>
<div class="line number75 index74 alt2"> </div>
<div class="line number76 index75 alt1"><code class="py comments">[200.0, 200.0, 262.13203435596427]</code></div>
<div class="line number77 index76 alt2"> </div>
<div class="line number78 index77 alt1"><code class="py comments">]</code></div>
<div class="line number79 index78 alt2"> </div>
<div class="line number80 index79 alt1"><code class="py comments">'''</code></div>
<div class="line number81 index80 alt2"><code class="py comments"># https://github.com/RoboDK/RoboDK-API/blob/master/Python/robolink.py</code></div>
<div class="line number82 index81 alt1"><code class="py comments"># robodk_path variable to specify location of RoboDK.exe</code></div>
<div class="line number83 index82 alt2"><code class="py comments"># under Ubuntu can not use "-NEWINSTANCE"</code></div>
<div class="line number84 index83 alt1"><code class="py comments">'''</code></div>
<div class="line number85 index84 alt2"><code class="py comments">start_robodk.sh content</code></div>
<div class="line number86 index85 alt1"><code class="py comments">LD_LIBRARY_PATH="/home/yen/RoboDK/bin/lib"</code></div>
<div class="line number87 index86 alt2"><code class="py comments">export LD_LIBRARY_PATH</code></div>
<div class="line number88 index87 alt1"><code class="py comments">/home/yen/RoboDK/bin/RoboDK</code></div>
<div class="line number89 index88 alt2"><code class="py comments">'''</code></div>
<div class="line number90 index89 alt1"><code class="py plain">RDK </code><code class="py keyword">=</code> <code class="py plain">Robolink(robodk_path</code><code class="py keyword">=</code><code class="py plain">r</code><code class="py string">"Y:\robodk522_portable\bin\RoboDK.exe"</code><code class="py plain">,args</code><code class="py keyword">=</code><code class="py plain">[</code><code class="py string">"-SKIPINI"</code><code class="py plain">, </code><code class="py string">"-EXIT_LAST_COM"</code><code class="py plain">])</code></div>
<div class="line number91 index90 alt2"><code class="py comments"># Add robot and the accompanied Base coordinate</code></div>
<div class="line number92 index91 alt1"><code class="py functions">print</code><code class="py plain">(dir_path </code><code class="py keyword">+</code> <code class="py string">'/Fanuc-M-710iC-50.robot'</code><code class="py plain">)</code></div>
<div class="line number93 index92 alt2"><code class="py comments"># relative directory or absolute directory will work for AddFile under Ubuntu</code></div>
<div class="line number94 index93 alt1"><code class="py comments">#robot = RDK.AddFile(r"/home/yen/github/wcm2021/downloads/robodk/pick_and_place_kmol_mac/Fanuc-M-710iC-50.robot")</code></div>
<div class="line number95 index94 alt2"><code class="py plain">robot </code><code class="py keyword">=</code> <code class="py plain">RDK.AddFile(</code><code class="py string">'Fanuc-M-710iC-50.robot'</code><code class="py plain">)</code></div>
<div class="line number96 index95 alt1"><code class="py comments"># Get the default robot base frame</code></div>
<div class="line number97 index96 alt2"><code class="py plain">robot_frame </code><code class="py keyword">=</code> <code class="py plain">RDK.Item(</code><code class="py string">'Fanuc M-710iC/50 Base'</code><code class="py plain">)</code></div>
<div class="line number98 index97 alt1"><code class="py comments"># Move the base frame to the origin</code></div>
<div class="line number99 index98 alt2"><code class="py plain">robot_frame.setPose(transl(</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">))</code></div>
<div class="line number100 index99 alt1"> </div>
<div class="line number101 index100 alt2"><code class="py comments"># Add a tool to an existing robot:</code></div>
<div class="line number102 index101 alt1"><code class="py plain">tool </code><code class="py keyword">=</code> <code class="py plain">RDK.AddFile(dir_path </code><code class="py keyword">+</code> <code class="py string">'/MainTool.tool'</code><code class="py plain">, robot)</code></div>
<div class="line number103 index102 alt2"> </div>
<div class="line number104 index103 alt1"><code class="py comments"># Add table 1</code></div>
<div class="line number105 index104 alt2"><code class="py plain">table1_frame </code><code class="py keyword">=</code> <code class="py plain">RDK.AddFrame(</code><code class="py string">'Table 1'</code><code class="py plain">)</code></div>
<div class="line number106 index105 alt1"><code class="py plain">table1_frame.setPose(transl(</code><code class="py value">807.766544</code><code class="py plain">,</code><code class="py keyword">-</code><code class="py value">963.699898</code><code class="py plain">,</code><code class="py value">41.478944</code><code class="py plain">))</code></div>
<div class="line number107 index106 alt2"><code class="py plain">table1_stl </code><code class="py keyword">=</code> <code class="py plain">RDK.AddFile(dir_path </code><code class="py keyword">+</code> <code class="py string">'/Table.stl'</code><code class="py plain">, table1_frame)</code></div>
<div class="line number108 index107 alt1"> </div>
<div class="line number109 index108 alt2"><code class="py comments"># Add table 2</code></div>
<div class="line number110 index109 alt1"><code class="py plain">table2_frame </code><code class="py keyword">=</code> <code class="py plain">RDK.AddFrame(</code><code class="py string">'Table 2'</code><code class="py plain">)</code></div>
<div class="line number111 index110 alt2"><code class="py plain">table2_frame.setPose(transl(</code><code class="py value">926.465508</code><code class="py plain">,</code><code class="py value">337.151529</code><code class="py plain">,</code><code class="py value">94.871928</code><code class="py plain">))</code></div>
<div class="line number112 index111 alt1"><code class="py plain">table2_stl </code><code class="py keyword">=</code> <code class="py plain">RDK.AddFile(dir_path </code><code class="py keyword">+</code> <code class="py string">'/Table.stl'</code><code class="py plain">, table2_frame)</code></div>
<div class="line number113 index112 alt2"> </div>
<div class="line number114 index113 alt1"><code class="py comments"># Calculate tool frames for the suction cup tool of 6 suction cups</code></div>
<div class="line number115 index114 alt2"><code class="py plain">TCP_list </code><code class="py keyword">=</code> <code class="py plain">[]</code></div>
<div class="line number116 index115 alt1"><code class="py keyword">for</code> <code class="py plain">i </code><code class="py keyword">in</code> <code class="py functions">range</code><code class="py plain">(nTCPs):</code></div>
<div class="line number117 index116 alt2"><code class="py plain">TCPi_pose </code><code class="py keyword">=</code> <code class="py plain">transl(</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">100</code><code class="py plain">)</code><code class="py keyword">*</code><code class="py plain">rotz((</code><code class="py value">360</code><code class="py keyword">/</code><code class="py plain">nTCPs)</code><code class="py keyword">*</code><code class="py plain">i</code><code class="py keyword">*</code><code class="py plain">pi</code><code class="py keyword">/</code><code class="py value">180</code><code class="py plain">)</code><code class="py keyword">*</code><code class="py plain">transl(</code><code class="py value">125</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">)</code><code class="py keyword">*</code><code class="py plain">roty(pi</code><code class="py keyword">/</code><code class="py value">2</code><code class="py plain">)</code></div>
<div class="line number118 index117 alt1"><code class="py plain">TCPi </code><code class="py keyword">=</code> <code class="py plain">robot.AddTool(TCPi_pose, </code><code class="py string">'TCP %i'</code> <code class="py keyword">%</code> <code class="py plain">(i</code><code class="py keyword">+</code><code class="py value">1</code><code class="py plain">))</code></div>
<div class="line number119 index118 alt2"><code class="py plain">TCP_list.append(TCPi)</code></div>
<div class="line number120 index119 alt1"> </div>
<div class="line number121 index120 alt2"><code class="py plain">TCP_0 </code><code class="py keyword">=</code> <code class="py plain">TCP_list[</code><code class="py value">0</code><code class="py plain">]</code></div>
<div class="line number122 index121 alt1"> </div>
<div class="line number123 index122 alt2"><code class="py comments"># Turn on automatic rendering</code></div>
<div class="line number124 index123 alt1"><code class="py plain">RDK.Render(</code><code class="py color1">True</code><code class="py plain">)</code></div>
<div class="line number125 index124 alt2"> </div>
<div class="line number126 index125 alt1"><code class="py comments"># Add balls</code></div>
<div class="line number127 index126 alt2"><code class="py comments"># create a list with 30 elements</code></div>
<div class="line number128 index127 alt1"><code class="py plain">balls </code><code class="py keyword">=</code> <code class="py plain">[</code><code class="py color1">None</code> <code class="py keyword">for</code> <code class="py plain">_ </code><code class="py keyword">in</code> <code class="py functions">range</code><code class="py plain">(</code><code class="py value">30</code><code class="py plain">)]</code></div>
<div class="line number129 index128 alt2"><code class="py plain">layer </code><code class="py keyword">=</code> <code class="py plain">[</code><code class="py value">16</code><code class="py plain">, </code><code class="py value">9</code><code class="py plain">, </code><code class="py value">4</code><code class="py plain">, </code><code class="py value">1</code><code class="py plain">]</code></div>
<div class="line number130 index129 alt1"><code class="py plain">count </code><code class="py keyword">=</code> <code class="py value">0</code></div>
<div class="line number131 index130 alt2"><code class="py keyword">for</code> <code class="py plain">i </code><code class="py keyword">in</code> <code class="py functions">range</code><code class="py plain">(</code><code class="py functions">len</code><code class="py plain">(balls_list)):</code></div>
<div class="line number132 index131 alt1"><code class="py comments"># transl(balls_list)</code></div>
<div class="line number133 index132 alt2"><code class="py plain">balls[i] </code><code class="py keyword">=</code> <code class="py plain">RDK.AddFile(</code><code class="py string">'./ball.stl'</code><code class="py plain">, table1_frame)</code></div>
<div class="line number134 index133 alt1"><code class="py plain">balls[i].setPose(transl(balls_list[i]))</code></div>
<div class="line number135 index134 alt2"><code class="py plain">count </code><code class="py keyword">=</code> <code class="py plain">count </code><code class="py keyword">+</code> <code class="py value">1</code></div>
<div class="line number136 index135 alt1"><code class="py keyword">if</code> <code class="py plain">count &lt;</code><code class="py keyword">=</code> <code class="py value">16</code><code class="py plain">:</code></div>
<div class="line number137 index136 alt2"><code class="py plain">balls[i].setColor([</code><code class="py value">1</code><code class="py plain">, </code><code class="py value">0</code><code class="py plain">, </code><code class="py value">0</code><code class="py plain">])</code></div>
<div class="line number138 index137 alt1"><code class="py keyword">elif</code> <code class="py plain">count &gt; </code><code class="py value">16</code> <code class="py keyword">and</code> <code class="py plain">count &lt;</code><code class="py keyword">=</code> <code class="py value">25</code><code class="py plain">:</code></div>
<div class="line number139 index138 alt2"><code class="py plain">balls[i].setColor([</code><code class="py value">0</code><code class="py plain">, </code><code class="py value">1</code><code class="py plain">, </code><code class="py value">0</code><code class="py plain">])</code></div>
<div class="line number140 index139 alt1"><code class="py keyword">elif</code> <code class="py plain">count &gt; </code><code class="py value">25</code> <code class="py keyword">and</code> <code class="py plain">count &lt;</code><code class="py keyword">=</code><code class="py value">29</code><code class="py plain">:</code></div>
<div class="line number141 index140 alt2"><code class="py plain">balls[i].setColor([</code><code class="py value">1</code><code class="py plain">, </code><code class="py value">1</code><code class="py plain">, </code><code class="py value">0</code><code class="py plain">])</code></div>
<div class="line number142 index141 alt1"><code class="py keyword">else</code><code class="py plain">:</code></div>
<div class="line number143 index142 alt2"><code class="py plain">balls[i].setColor([</code><code class="py value">0</code><code class="py plain">, </code><code class="py value">0</code><code class="py plain">, </code><code class="py value">1</code><code class="py plain">])</code></div>
<div class="line number144 index143 alt1"> </div>
<div class="line number145 index144 alt2"><code class="py comments"># Make a list of positions to place the objects</code></div>
<div class="line number146 index145 alt1"><code class="py comments"># ball_list is the same as frame1_list</code></div>
<div class="line number147 index146 alt2"><code class="py plain">frame1_list </code><code class="py keyword">=</code> <code class="py plain">pyramid_calc(</code><code class="py value">4</code><code class="py plain">)</code></div>
<div class="line number148 index147 alt1"><code class="py plain">frame2_list </code><code class="py keyword">=</code> <code class="py plain">pyramid_calc(</code><code class="py value">4</code><code class="py plain">)</code></div>
<div class="line number149 index148 alt2"> </div>
<div class="line number150 index149 alt1"><code class="py comments"># Move balls</code></div>
<div class="line number151 index150 alt2"><code class="py plain">robot.setPoseTool(TCP_list[</code><code class="py value">0</code><code class="py plain">])</code></div>
<div class="line number152 index151 alt1"><code class="py plain">nballs_frame1 </code><code class="py keyword">=</code> <code class="py functions">len</code><code class="py plain">(frame1_list)</code></div>
<div class="line number153 index152 alt2"><code class="py plain">nballs_frame2 </code><code class="py keyword">=</code> <code class="py functions">len</code><code class="py plain">(frame2_list)</code></div>
<div class="line number154 index153 alt1"><code class="py plain">idTake </code><code class="py keyword">=</code> <code class="py plain">nballs_frame1 </code><code class="py keyword">-</code> <code class="py value">1</code></div>
<div class="line number155 index154 alt2"><code class="py plain">idLeave </code><code class="py keyword">=</code> <code class="py value">0</code></div>
<div class="line number156 index155 alt1"><code class="py plain">idTCP </code><code class="py keyword">=</code> <code class="py value">0</code></div>
<div class="line number157 index156 alt2"> </div>
<div class="line number158 index157 alt1"><code class="py plain">target_app_frame </code><code class="py keyword">=</code> <code class="py plain">transl(</code><code class="py value">2</code><code class="py keyword">*</code><code class="py plain">BALL_DIAMETER, </code><code class="py value">2</code><code class="py keyword">*</code><code class="py plain">BALL_DIAMETER, </code><code class="py value">4</code><code class="py keyword">*</code><code class="py plain">BALL_DIAMETER)</code><code class="py keyword">*</code><code class="py plain">roty(pi)</code><code class="py keyword">*</code><code class="py plain">transl(</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py keyword">-</code><code class="py plain">APPROACH)</code></div>
<div class="line number159 index158 alt2"> </div>
<div class="line number160 index159 alt1"><code class="py comments"># frame1 is the same as table1_frame</code></div>
<div class="line number161 index160 alt2"><code class="py plain">frame1 </code><code class="py keyword">=</code> <code class="py plain">RDK.Item(</code><code class="py string">'Table 1'</code><code class="py plain">)</code></div>
<div class="line number162 index161 alt1"><code class="py plain">frame2 </code><code class="py keyword">=</code> <code class="py plain">RDK.Item(</code><code class="py string">'Table 2'</code><code class="py plain">)</code></div>
<div class="line number163 index162 alt2"> </div>
<div class="line number164 index163 alt1"><code class="py keyword">while</code> <code class="py plain">idTake &gt;</code><code class="py keyword">=</code> <code class="py value">0</code><code class="py plain">:</code></div>
<div class="line number165 index164 alt2"><code class="py comments"># ------------------------------------------------------------------</code></div>
<div class="line number166 index165 alt1"><code class="py comments"># first priority: grab as many balls as possible</code></div>
<div class="line number167 index166 alt2"><code class="py comments"># the tool is empty at this point, so take as many balls as possible (up to a maximum of 6 -&gt; nTCPs)</code></div>
<div class="line number168 index167 alt1"><code class="py plain">ntake </code><code class="py keyword">=</code> <code class="py functions">min</code><code class="py plain">(nTCPs, idTake </code><code class="py keyword">+</code> <code class="py value">1</code><code class="py plain">)</code></div>
<div class="line number169 index168 alt2"> </div>
<div class="line number170 index169 alt1"><code class="py comments"># approach to frame 1</code></div>
<div class="line number171 index170 alt2"><code class="py plain">robot.setPoseFrame(frame1)</code></div>
<div class="line number172 index171 alt1"><code class="py plain">robot.setPoseTool(TCP_0)</code></div>
<div class="line number173 index172 alt2"><code class="py plain">robot.MoveJ([</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">10</code><code class="py plain">,</code><code class="py keyword">-</code><code class="py value">200</code><code class="py plain">])</code></div>
<div class="line number174 index173 alt1"><code class="py plain">robot.MoveJ(target_app_frame)</code></div>
<div class="line number175 index174 alt2"> </div>
<div class="line number176 index175 alt1"><code class="py comments"># grab ntake balls from frame1</code></div>
<div class="line number177 index176 alt2"><code class="py keyword">for</code> <code class="py plain">i </code><code class="py keyword">in</code> <code class="py functions">range</code><code class="py plain">(ntake):</code></div>
<div class="line number178 index177 alt1"><code class="py plain">TCPi </code><code class="py keyword">=</code> <code class="py plain">TCP_list[i]</code></div>
<div class="line number179 index178 alt2"><code class="py plain">robot.setPoseTool(TCPi)</code></div>
<div class="line number180 index179 alt1"><code class="py comments"># calculate target wrt frame1: rotation about Y is needed since Z and X axis are inverted</code></div>
<div class="line number181 index180 alt2"><code class="py plain">target </code><code class="py keyword">=</code> <code class="py plain">transl(frame1_list[idTake])</code><code class="py keyword">*</code><code class="py plain">roty(pi)</code><code class="py keyword">*</code><code class="py plain">rotx(</code><code class="py value">30</code><code class="py keyword">*</code><code class="py plain">pi</code><code class="py keyword">/</code><code class="py value">180</code><code class="py plain">)</code></div>
<div class="line number182 index181 alt1"><code class="py plain">target_app </code><code class="py keyword">=</code> <code class="py plain">target</code><code class="py keyword">*</code><code class="py plain">transl(</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py keyword">-</code><code class="py plain">APPROACH)</code></div>
<div class="line number183 index182 alt2"><code class="py plain">idTake </code><code class="py keyword">=</code> <code class="py plain">idTake </code><code class="py keyword">-</code> <code class="py value">1</code></div>
<div class="line number184 index183 alt1"><code class="py plain">robot.MoveL(target_app)</code></div>
<div class="line number185 index184 alt2"><code class="py plain">robot.MoveL(target)</code></div>
<div class="line number186 index185 alt1"><code class="py plain">TCP_On(TCPi, i)</code></div>
<div class="line number187 index186 alt2"><code class="py plain">robot.MoveL(target_app)</code></div>
<div class="line number188 index187 alt1"> </div>
<div class="line number189 index188 alt2"><code class="py comments"># ------------------------------------------------------------------</code></div>
<div class="line number190 index189 alt1"><code class="py comments"># second priority: unload the tool</code></div>
<div class="line number191 index190 alt2"><code class="py comments"># approach to frame2 and place the tool balls into table2</code></div>
<div class="line number192 index191 alt1"><code class="py plain">robot.setPoseTool(TCP_0)</code></div>
<div class="line number193 index192 alt2"><code class="py plain">robot.MoveJ(target_app_frame)</code></div>
<div class="line number194 index193 alt1"><code class="py plain">robot.MoveJ([</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">10</code><code class="py plain">,</code><code class="py keyword">-</code><code class="py value">200</code><code class="py plain">])</code></div>
<div class="line number195 index194 alt2"><code class="py plain">robot.setPoseFrame(frame2)</code></div>
<div class="line number196 index195 alt1"><code class="py plain">robot.MoveJ(target_app_frame)</code></div>
<div class="line number197 index196 alt2"><code class="py keyword">for</code> <code class="py plain">i </code><code class="py keyword">in</code> <code class="py functions">range</code><code class="py plain">(ntake):</code></div>
<div class="line number198 index197 alt1"><code class="py plain">TCPi </code><code class="py keyword">=</code> <code class="py plain">TCP_list[i]</code></div>
<div class="line number199 index198 alt2"><code class="py plain">robot.setPoseTool(TCPi)</code></div>
<div class="line number200 index199 alt1"><code class="py keyword">if</code> <code class="py plain">idLeave &gt; nballs_frame2</code><code class="py keyword">-</code><code class="py value">1</code><code class="py plain">:</code></div>
<div class="line number201 index200 alt2"><code class="py keyword">raise</code> <code class="py plain">Exception(</code><code class="py string">"No room left to place objects in Table 2"</code><code class="py plain">)</code></div>
<div class="line number202 index201 alt1"> </div>
<div class="line number203 index202 alt2"><code class="py comments"># calculate target wrt frame1: rotation of 180 about Y is needed since Z and X axis are inverted</code></div>
<div class="line number204 index203 alt1"><code class="py plain">target </code><code class="py keyword">=</code> <code class="py plain">transl(frame2_list[idLeave])</code><code class="py keyword">*</code><code class="py plain">roty(pi)</code><code class="py keyword">*</code><code class="py plain">rotx(</code><code class="py value">30</code><code class="py keyword">*</code><code class="py plain">pi</code><code class="py keyword">/</code><code class="py value">180</code><code class="py plain">)</code></div>
<div class="line number205 index204 alt2"><code class="py plain">target_app </code><code class="py keyword">=</code> <code class="py plain">target</code><code class="py keyword">*</code><code class="py plain">transl(</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py keyword">-</code><code class="py plain">APPROACH)</code></div>
<div class="line number206 index205 alt1"><code class="py plain">idLeave </code><code class="py keyword">=</code> <code class="py plain">idLeave </code><code class="py keyword">+</code> <code class="py value">1</code></div>
<div class="line number207 index206 alt2"><code class="py plain">robot.MoveL(target_app)</code></div>
<div class="line number208 index207 alt1"><code class="py plain">robot.MoveL(target)</code></div>
<div class="line number209 index208 alt2"><code class="py plain">TCP_Off(TCPi, i, frame2)</code></div>
<div class="line number210 index209 alt1"><code class="py plain">robot.MoveL(target_app)</code></div>
<div class="line number211 index210 alt2"> </div>
<div class="line number212 index211 alt1"><code class="py plain">robot.MoveJ(target_app_frame)</code></div>
<div class="line number213 index212 alt2"> </div>
<div class="line number214 index213 alt1"><code class="py comments"># Move home when the robot finishes</code></div>
<div class="line number215 index214 alt2"><code class="py plain">robot.MoveJ([</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">0</code><code class="py plain">,</code><code class="py value">10</code><code class="py plain">,</code><code class="py keyword">-</code><code class="py value">200</code><code class="py plain">])</code></div>
<p></p>
<h2>W14</h2>
<p>取分項目1，參考</p>
<p><a href="https://40623144.github.io/cd2021/content/week14.html">Week14</a></p>
<p>def stu2b(account):<br/> return account<br/>teamb = []<br/>   <br/>with open("stage3_2b.txt") as fh:     #讀取stage3_2b的檔案<br/>    data = fh.readlines()<br/>    data = [a.replace('40823231','40823231-2') for a in data]      #將40823231換成40823231-2<br/>    data = [a.replace('407','s407') for a in data]     #將有407的學號換成s407<br/>  <br/>for i in range(len(data)):     #數據中會有\n跟\t，將\n跟\t去除<br/>    group = data[i].rstrip("\n").split("\t")<br/>    teamb.append(group)<br/>       <br/>output = ""    <br/>seperator = "-"*10 + "&lt;/br&gt;"     #分隔號製作<br/>   <br/>for i in teamb[0:]:    #小組 組長 其他六個組員<br/>    team = i[0]<br/>    leader = stu2b(i[1])<br/>    m1 = stu2b(i[3])<br/>    m2 = stu2b(i[5])<br/>    m3 = stu2b(i[7])<br/>    m4 = stu2b(i[9])<br/>    m5 = stu2b(i[11])<br/>    m6 = stu2b(i[13])<br/>  <br/>           <br/>    leaderrepo = "&lt;a href='http://github.com/" + leader + "/cd2021'&gt;" + leader + " repo&lt;/a&gt;"    #組長以及組員的倉儲和網站<br/>    leadersite = "&lt;a href='http://" + leader + ".github.io/cd2021'&gt;" + leader +  " site&lt;/a&gt;"<br/>    m1repo = "&lt;a href='http://github.com/" + m1 + "/cd2021'&gt;" + m1 + " repo&lt;/a&gt;"<br/>    m1site = "&lt;a href='http://" + m1 + ".github.io/cd2021'&gt;" + m1 +  " site&lt;/a&gt;"<br/>    m2repo = "&lt;a href='http://github.com/" + m2 + "/cd2021'&gt;" + m2 + " repo&lt;/a&gt;"<br/>    m2site = "&lt;a href='http://" + m2 + ".github.io/cd2021'&gt;" + m2 +  " site&lt;/a&gt;"<br/>    m3repo = "&lt;a href='http://github.com/" + m3 + "/cd2021'&gt;" + m3 + " repo&lt;/a&gt;"<br/>    m3site = "&lt;a href='http://" + m3 + ".github.io/cd2021'&gt;" + m3 +  " site&lt;/a&gt;"<br/>    m4repo = "&lt;a href='http://github.com/" + m4 + "/cd2021'&gt;" + m4 + " repo&lt;/a&gt;"<br/>    m4site = "&lt;a href='http://" + m4 + ".github.io/cd2021'&gt;" + m4 +  " site&lt;/a&gt;"<br/>    m5repo = "&lt;a href='http://github.com/" + m5 + "/cd2021'&gt;" + m5 + " repo&lt;/a&gt;"<br/>    m5site = "&lt;a href='http://" + m5 + ".github.io/cd2021'&gt;" + m5 +  " site&lt;/a&gt;"<br/>    m6repo = "&lt;a href='http://github.com/" + m6 + "/cd2021'&gt;" + m6 + " repo&lt;/a&gt;"<br/>    m6site = "&lt;a href='http://" + m6 + ".github.io/cd2021'&gt;" + m6 +  " site&lt;/a&gt;"<br/>    <br/>   <br/>    teamrepo = "&lt;a href='http://github.com/" + leader + "/" + team + "'&gt;" + team + " repo&lt;/a&gt;"     #小組的倉儲含網站<br/>    teamsite =  "&lt;a href='http://" + m1 + ".github.io/" + team + "'&gt;" + team +  " site&lt;/a&gt;"<br/>   <br/>    output += teamrepo + " | " + teamsite + " | " +leaderrepo + " | " + leadersite + " | " +m1repo + " | " + m1site + " | " +m2repo + " | " + m2site + " | " +m3repo + " | " + m3site + " | " +m4repo + " | " + m4site + " | " +m5repo + " | " + m5site + " | " +m6repo + " | " + m6site <br/>       <br/>            <br/>    try:<br/>        m7 = stu2b(i[15])     #第七個組員<br/>    except:<br/>        m7 = ""<br/>    try:<br/>        m8 = stu2b(i[17])     #第八個組員<br/>    except:<br/>        m8 = ""<br/>          <br/>    if m7 != "":<br/>       m7repo = "&lt;a href='http://github.com/" + m7 + "/cd2021'&gt;" + m7 + " repo&lt;/a&gt;"     #如果有第七個組員會再加倉儲和網站沒有的話就空白<br/>       m7site = "&lt;a href='http://" + m7 + ".github.io/cd2021'&gt;" + m7 +  " site&lt;/a&gt;" <br/>       output += " |  " + m7repo + "| " + m7site<br/>    else:<br/>        output += "" <br/>       <br/>    if m8 != "":<br/>       m8repo = "&lt;a href='http://github.com/" + m8 + "/cd2021'&gt;" + m8 + " repo&lt;/a&gt;"     #如果有第八個組員會再加倉儲和網站最後再加分隔線<br/>       m8site = "&lt;a href='http://" + m8 + ".github.io/cd2021'&gt;" + m8 +  " site&lt;/a&gt;" <br/>       output += " |  " + m8repo + "| " + m8site + "&lt;br /&gt;" + seperator<br/>    else:<br/>        output += "&lt;br /&gt;" + seperator<br/>   <br/>   <br/>print(output)     #輸出</p>
<h2>W15</h2>
<p>W15取分項目1由我負責，證據於<a href="https://youtu.be/WbbXqoTKe8I">6/4號小組討論</a>中的meet文字討論欄中</p>
<p>影片1</p>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/IKOGwoJ2HLk" title="YouTube video player" width="560"></iframe></p>
<p>影片字幕中文(google翻譯):</p>
<p>我們在前面看到了這個簡單的雙連桿機器人<br/>關於正向運動學的講座。</p>
<p>描述了該機器人的工具提示位姿<br/>簡單地由兩個數字，坐標 x 和</p>
<p>y 相對於世界坐標系。</p>
<p>所以，這里的問題是，給定 x 和 y，<br/>我們要確定連接的角度 Q1</p>
<p>和 Q2。</p>
<p>我們將遵循的解決方案<br/>在這個特定的部分是一個幾何</p>
<p>一。</p>
<p>我們將從一個簡單的作品開始<br/>的建設。</p>
<p>我們將覆蓋紅色三角形<br/>在我們的機器人之上。</p>
<p>我們知道終點坐標是x，<br/>y，所以三角形的垂直高度</p>
<p>是 y，水平寬度是 x。</p>
<p>並且，使用畢達哥拉斯定理，我們可以寫出<br/>r 平方等於 x 平方加上 y 平方。</p>
<p>到目前為止，很容易。</p>
<p>現在，我們要看看這個三角形<br/>此處以紅色突出顯示，我們想確定</p>
<p>角度α。</p>
<p>為了做到這一點，我們需要使用余弦<br/>規則。</p>
<p>而且，如果你對余弦有點生疏<br/>規則，這里有一點覆習。</p>
<p>我們有一個任意三角形。</p>
<p>我們不必有任何直角<br/>它，我們將標記長度</p>
<p>這條邊作為 A 和相反的角度<br/>邊緣，我們將標記為小 a。</p>
<p>而且，我們對這條邊和這條邊做同樣的事情<br/>角度，還有這條邊和這個角。</p>
<p>所以，總而言之，雙方都被標記為首都<br/>A、B 和 C，角度標記為小</p>
<p>a、小b和小c。</p>
<p>所以，余弦規則就是這種關系<br/>這里。</p>
<p>這有點像畢達哥拉斯定理，除了<br/>對於這個額外的術語，最後的 cos</p>
<p>一個在里面。</p>
<p>現在，讓我們將余弦規則應用於<br/>我們看了一會兒特定的三角形</p>
<p>前。</p>
<p>寫下來很簡單<br/>這種特殊的關系。</p>
<p>我們可以隔離術語 cos alpha，它給出<br/>我們感興趣的角度α</p>
<p>在。</p>
<p>而且，它是根據常數定義的<br/>鏈接長度，A1 和 A2 以及位置</p>
<p>末端執行器，x 和 y。</p>
<p>我們可以寫出這個簡單的關系<br/>角α和Q2。</p>
<p>而且，我們從余弦的形狀知道<br/>Q2 的 cos 必須等於負的函數</p>
<p>cos 阿爾法。</p>
<p>這一次，我們只寫一個表達式<br/>對於連接角 Q2 的余弦。</p>
<p>現在，我們要再畫一個紅色<br/>三角形，我們將應用一些簡單的</p>
<p>三角函數在這里。</p>
<p>如果我們知道 Q2，那麽我們就知道這個長度和<br/>這個紅色三角形的長度。</p>
<p>我們可以把這個關系寫成正弦<br/>的連接角 Q2。</p>
<p>現在，我們可以考慮這個更大的三角形<br/>其角為β，此邊長為</p>
<p>三角形在這里以藍色給出。</p>
<p>並且，三角形另一邊的長度<br/>這是。</p>
<p>所以，現在我們可以寫一個表達式<br/>此處的這些參數的角度β。</p>
<p>回到我們畫的紅色三角形<br/>之前，我們可以建立之間的關系</p>
<p>Q1 和角β。</p>
<p>介紹另一個角度，這個伽馬<br/>我們可以寫出之間的關系</p>
<p>角度伽馬和工具提示坐標 x<br/>和y。</p>
<p>現在，我們可以寫出一個簡單的關系<br/>我們構建的角度，伽馬</p>
<p>和 beta 以及我們感興趣的連接角<br/>其中是 Q1。</p>
<p>而且，總的關系看起來有些東西<br/>像這樣。</p>
<p>相當覆雜的關系，它給了我們<br/>連接的角度，即 Q1</p>
<p>末端執行器坐標 y 和 x，以及<br/>一堆常量，a1 和 a2，它是</p>
<p>也是第二關節角度的函數，<br/>Q2。</p>
<p>所以，讓我們總結一下我們有什麽<br/>派生於此。</p>
<p>我們有 Q2 的余弦表達式<br/>我們有 Q1 的表達式。</p>
<p>現在，余弦函數關於<br/>0.</p>
<p>所以，如果我們知道余弦值<br/>Q2，那麽有兩種可能的解決方案，</p>
<p>一個正角和一個負角。</p>
<p>我們將明確選擇積極的<br/>角度，這意味著我可以寫出這個表達式</p>
<p>這里。</p>
<p>現在，我們有了我們所說的逆<br/>這個雙連桿機器人的運動學解決方案。</p>
<p>我們有兩個連接角的表達式，<br/>Q1 和 Q2 在末端執行器姿勢方面</p>
<p>x 和 y，以及一堆常量。</p>
<p>你注意到這兩個方程不是<br/>獨立的。</p>
<p>事實上，Q1 的方程取決於<br/>Q2 的解決方案。</p>
<p>在這種情況下，Q2 是負數，我們將<br/>用負數寫出 Q2 的解</p>
<p>符號在反余弦前面。</p>
<p>現在，我們需要解決 Q1，所以我們要<br/>介紹這個特殊的紅色三角形，</p>
<p>我們之前求解的角度β，<br/>以及用術語定義的角度伽馬</p>
<p>y 和 x。</p>
<p>現在，我們寫一個稍微不同的關系<br/>在 Q1、gamma 和 beta 之間，與什麽不同</p>
<p>我們以前有過。</p>
<p>涉及到符號的變化。</p>
<p>然後，我們可以替換之前的所有<br/>方程並提出這個表達式</p>
<p>對於 Q1。</p>
<p>同樣，這里的符號发生了變化。</p>
<p>以前，這是一個負面信號。</p>
<p>而且，這里是總結形式的解決方案<br/>對於我們的雙連桿的逆運動學</p>
<p>當機器人處於這種特定配置時，<br/>其中 Q2 為負。</p>
<p>讓我們比較兩種解決方案，案例<br/>其中 Q2 為正，Q2 為正的情況</p>
<p>是否定的。</p>
<p>影片2</p>
<p></p>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/eIZuz1XCd0w" title="YouTube video player" width="560"></iframe></p>
<p>影片字幕中文(google翻譯):</p>
<p>這里我們有與我們相同的兩個鏈接機器人<br/>只是看著，但這次我們要</p>
<p>使用分析方法解決它，即<br/>我們是否會更多地依賴代數，</p>
<p>特定的線性代數而不是幾何。<br/>我們有一個表達式 E，它是齊次的</p>
<p>表示姿勢的變換<br/>機器人終結者，我們看了這個</p>
<p>在上一課中，我們可以編寫 endefector<br/>構成一個基本齊次序列</p>
<p>轉換。 Q1 的旋轉，平移<br/>沿 X 方向 A1，旋轉</p>
<p>Q2 然後在 X 方向上平移<br/>通過 A2。如果我展開這個，乘以所有</p>
<p>一起轉換，我得到了表達<br/>顯示在這里；三乘三同構變換</p>
<p>表示機器人姿態的矩陣<br/>終結者。</p>
<p>現在對於這個特殊的兩連桿機器人，我們<br/>只對它的位置感興趣</p>
<p>endefector，它是 X 和 Y 坐標，它們<br/>這兩個元素是同質的嗎</p>
<p>變換矩陣，所以我要覆制<br/>那些出來。所以這里又是我們的表達</p>
<p>對於 X 和 Y 我們要做的是<br/>一個相當常見的技巧，我們要平方</p>
<p>並添加這兩個方程，我得到了一個關系<br/>看起來像這樣。現在我可以解決</p>
<p>根據 endefector 的關節角度 Q2<br/>姿勢 X 和 Y 以及機器人的常數 A1 和 A2。</p>
<p>現在我要做的是應用總和<br/>的角度身份。我要擴展這些</p>
<p>項，Q1 的正弦加 Q2 或 Q1 的余弦加<br/>Q2 為了讓生活更輕松一點，我</p>
<p>打算建造一些變電站，所以無論在哪里<br/>我有 cos Q2，我要寫 C2 以及在哪里</p>
<p>曾經我有正弦 Q2，我要寫 S2。<br/>這是一個相當常見的速記，當人們</p>
<p>正在研究機器人運動學方程。<br/>這是制作後的方程式</p>
<p>替代品。看這兩個方程，<br/>我可以看到他們掉進了一個很好的井里</p>
<p>已知形式，對於該形式有一個非常<br/>眾所周知的解決方案。所以我要考慮</p>
<p>只是其中一個方程，方程為<br/>Y 並使用我們眾所周知的身份</p>
<p>解決方案，我可以確定<br/>變量小a、小b和小c</p>
<p>一旦我確定了這些，我就可以<br/>只需寫下 Q1 的解決方案，即</p>
<p>在這個特定的情況下相當於 theta<br/>案件。</p>
<p>這里再次是我們對 Q1 的表達式，覆制<br/>從上一張幻燈片結束，我們可能還記得</p>
<p>從我們早期的工作中我們確定<br/>這種特殊的關系； X平方加</p>
<p>Y 平方等於這個特定的覆數<br/>表達。所以我可以用和代替它</p>
<p>做一些簡化，我最終得到這個<br/>Q1 的表達式稍微簡單一些。和</p>
<p>這是我得到的相同表達<br/>上一節中的幾何方法。</p>
<h1>倉庫</h1>
<p>原始網站刪除的東西還有部分筆記在此</p>
<p><span>備註:記得前往github自己的帳戶中 seeting/gitgub page裡面將 Branch修改為 master</span></p>
<p>此內容管理系統以 <a href="https://github.com/mdecourse/cmsimde">https://github.com/mdecourse/cmsimde</a> 作為 submodule 運作, 可以選定對應的版本運作, cmsimde 可以持續改版, 不會影響之前設為 submodule, 使用舊版 cmsimde 模組的內容管理相關運作.</p>
<p>建立可快速給其他人上傳的倉儲方法:</p>
<p>於init中之IP="***.***.***.***"改為IP="::"</p>
<p>，並以ipconfig /all獲得IP即可使所有人進入<img alt="" src="https://40823233.github.io/cad2020/images/index.html"/></p>
<h5><span>在網站上面放置可下載連結的方法</span></h5>
<p><span>將檔案放進倉儲中，上傳後於倉儲找到檔案連結，右鍵點擊箭頭位置，按檢查獲得代碼，更改其網址，範例:<span><a href="https://github.com/40823233/cad2020/raw/master/download/40823233.ipt">https://github.com/40823233/cad2020/raw/master/download/40823233.ipt</a></span></span></p>
<p><span><span><img alt="" height="250" src="https://40823233.github.io/cad2020/images/%E4%B8%8A%E5%82%B3%E7%AF%84%E4%BE%8B%20.png" width="806"/></span></span></p>
<h4>倉儲複製(有子模組適用)</h4>
<p><span>git clone --recurse-submodules<span> </span></span><span><span><a href="https://github.com/mdecourse/newcms.git">https://github.com/mdecourse/newcms.git</a><a href="https://github.com/mdecourse/newcms.git"></a></span></span></p>
<p>這是還沒有設定使用者時的代碼。</p>
<p><span>git clone --recurse-submodules<span> </span></span><span><span><a href="https://github.com/40823233/cp2019.git">https://github.com/40823233/cp2019.git</a><a href="https://github.com/mdecourse/newcms.git"></a></span></span></p>
<p><span><span>這是我的倉儲的複製方法。</span></span></p>
<p><span><span>若資料遺失 可</span></span><span><span>使用gitcheckout .回復到上一版倉儲</span></span></p>
<h4>上傳三連</h4>
<p>git add .</p>
<p>git commit -m  "add repositere link"</p>
<p>git push</p>
<p>然後打帳號密碼，如果中途有錯的話cmd上面會告訴你叫你打一些東西，好了之後重複上述動作應該就行了。</p>
<h4>利用 cmsimde 建立靜態網誌方法:</h4>
<p>1. 在 github 建立倉儲, git clone 到近端</p>
<p>2. 參考 <a href="https://github.com/mdecourse/newcms">https://github.com/mdecourse/newcms</a>, 加入除了 cmsimde 目錄外的所有內容</p>
<p><span><span>以git子模塊添加 <span> </span></span></span><a href="https://github.com/mdecourse/cmsimde"><span><span>https://github.com/mdecourse/cmsimde</span></span></a><span><span><span> </span> cmsimde</span></span></p>
<p>建立 cmsimde 目錄, 並從 github 取下子模組內容.</p>
<p>3.在近端維護時, 更換目錄到倉儲中的 cmsimde, 以 python wsgi.py 啟動近端網際伺服器.</p>
<p>動態內容編輯完成後, 以 generate_pages 轉為靜態內容, 以 git add commit 及 push 將內容推到遠端.</p>
<p>4. 之後若要以 git clone 取下包含 submodule 的所有內容, 執行:</p>
<p><span><span>git clone --recurse-submodules<span> </span></span></span><a href="https://github.com/mdecourse/newcms.git"><span><span>https://github.com/mdecourse/newcms.git</span></span></a></p>
<p><a href="https://github.com/mdecourse/cmsimde">https://github.com/mdecourse/cmsimde</a> 的開發, 可以在一個目錄中放入 cmsimde, 然後將 up_dir 中的內容放到與 cmsimde 目錄同位階的地方, 使用 command 進入 cmsimde 目錄, 執行 python wsgi.py, 就可以啟動, 以瀏覽器 https://localhost:9443 就可以連接, 以 admin 作為管理者密碼, 就可以登入維護內容.</p>
<p>cmsimde 的開發採用 Leo Editor, 開啟 cmsimde 目錄中的 cmsimde.leo 就可以進行程式修改, 結束後, 若要保留網際內容, 只要將 cmsimde 外部的內容倒回 up_dir 目錄中即可後續對 cmsimde 遠端倉儲進行改版.</p>
<p>init.py 位於  up_dir 目錄, 可以設定 site_title 與 uwsgi 等變數.</p>
<h4 id="-">數學符號與方程式</h4>
<p>Inline math equations go in like so:<span><span> </span></span><span class="MathJax" data-mathml='&lt;math xmlns="http://www.w3.org/1998/Math/MathML"&gt;&lt;mi&gt;&amp;#x03C9;&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;mrow class="MJX-TeXAtom-ORD"&gt;&lt;mo&gt;/&lt;/mo&gt;&lt;/mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;' id="MathJax-Element-1-Frame" role="presentation" style="box-sizing: border-box; display: inline; font: inherit; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; vertical-align: baseline; position: relative;" tabindex="0"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1"><span><span><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3">ω</span><span class="mo" id="MathJax-Span-4">=</span><span class="mi" id="MathJax-Span-5">d<span></span></span><span class="mi" id="MathJax-Span-6">ϕ</span><span class="texatom" id="MathJax-Span-7"><span class="mrow" id="MathJax-Span-8"><span class="mo" id="MathJax-Span-9">/</span></span></span><span class="mi" id="MathJax-Span-10">d<span></span></span><span class="mi" id="MathJax-Span-11">t</span></span><span></span></span></span><span></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ω</mi><mo>=</mo><mi>d</mi><mi>ϕ</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>d</mi><mi>t</mi></math></span></span>. Display math should get its own line and be put in in double-dollarsigns:</p>
<div class="MathJax_Display"><span class="MathJax" data-mathml='&lt;math xmlns="http://www.w3.org/1998/Math/MathML" display="block"&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;&amp;#x222B;&lt;/mo&gt;&lt;mi&gt;&amp;#x03C1;&lt;/mi&gt;&lt;msup&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mrow class="MJX-TeXAtom-ORD"&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;/math&gt;' id="MathJax-Element-2-Frame" role="presentation" style="box-sizing: border-box; display: inline; font: inherit; text-indent: 0px; text-align: center; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; vertical-align: baseline; position: relative;" tabindex="0"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-12"><span><span><span class="mrow" id="MathJax-Span-13"><span class="mi" id="MathJax-Span-14">I<span></span></span><span class="mo" id="MathJax-Span-15">=</span><span class="mo" id="MathJax-Span-16">∫<span></span></span><span class="mi" id="MathJax-Span-17">ρ</span><span class="msubsup" id="MathJax-Span-18"><span><span><span class="mi" id="MathJax-Span-19">R</span><span></span></span><span><span class="texatom" id="MathJax-Span-20"><span class="mrow" id="MathJax-Span-21"><span class="mn" id="MathJax-Span-22">2</span></span></span><span></span></span></span></span><span class="mi" id="MathJax-Span-23">d<span></span></span><span class="mi" id="MathJax-Span-24">V</span></span></span></span></span></nobr></span></div>
<div class="MathJax_Display"></div>
<h4 class="MathJax_Display">於cad2020課程中所學到的軟體，程式:</h4>
<div class="MathJax_Display">
<div class="slides">
<h4 class="stack present" data-previous-indexv="0">1.錄影,截圖,筆記:ShaerX,zoomit.</h4>
<h4 class="stack present" data-previous-indexv="0">2.繪圖軟體:<span>NX, Solidworks, Inventor, Onshape, Solvespace</span></h4>
<h4 class="stack present" data-previous-indexv="0"><span>3.github程式組成:</span></h4>
<h4 class="stack present" data-previous-indexv="0"><span><img alt="" height="130" src="https://40823233.github.io/cad2020/images/Screenshot%202020-10-23%20150336.png" width="323"/></span></h4>
<h4 class="stack present" data-previous-indexv="0"><span>2020cad:學習如何使用程式對各繪圖軟體繪出的圖進行大量複製並小幅度修改</span></h4>
<h4 class="stack present" data-previous-indexv="0">利用MARKDOWN 寫投影片</h4>
<h4 class="stack present" data-previous-indexv="0">以下利用 Markdown 格式展示 Python 程式碼:</h4>
<pre><code class="hljs xl"># use threading <span class="hljs-built_in">and</span> subprocess to threading the make process
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> subprocess
<span class="hljs-keyword">import</span> threading

def domake():

    <span class="hljs-built_in">path</span> = <span class="hljs-string">"../exposed/api/exposed"</span>
    ubuntu = <span class="hljs-string">"../Ubuntu"</span>

    # create obj <span class="hljs-built_in">path</span>

    <span class="hljs-keyword">if</span> <span class="hljs-built_in">not</span> os.<span class="hljs-built_in">path</span>.exists(<span class="hljs-built_in">path</span>+<span class="hljs-string">"/../obj"</span>):
        os.makedirs(<span class="hljs-built_in">path</span>+<span class="hljs-string">"/../obj"</span>)

    subprocess.call([<span class="hljs-string">"make"</span>, <span class="hljs-string">"clean"</span>], cwd=<span class="hljs-built_in">path</span>)
    subprocess.call(<span class="hljs-string">"make"</span>, cwd=<span class="hljs-built_in">path</span>)
    subprocess.call([<span class="hljs-string">"cp"</span>, <span class="hljs-string">"{libslvs.so, _slvs.so, slvs.py}"</span>, ubuntu], cwd=<span class="hljs-built_in">path</span>)
    subprocess.call([<span class="hljs-string">"python3"</span>, <span class="hljs-string">"circle_ex.py"</span>], cwd=<span class="hljs-built_in">path</span>+<span class="hljs-string">"/"</span>+ubuntu)

make = threading.Thread(target=domake)
make.start()</code></pre>
<h4 class="stack present" data-previous-indexv="0"><code class="hljs xl"><br/><span face="Lato"><span></span></span>使用 iframe 導入影片<br/><br/>導入影片 template<br/>導入結果如下<br/><br/></code></h4>
<iframe allowfullscreen="allowfullscreen" data-mce-fragment="1" frameborder="0" height="492" mozallowfullscreen="mozallowfullscreen" src="https://player.vimeo.com/video/183950627" webkitallowfullscreen="webkitallowfullscreen" width="640"></iframe></div>
</div>
<p>This is <a href="https://github.com/mdecourse/cmstemplate">https://github.com/mdecourse/cmstemplate</a></p>
<p>目前的 cmsimde 在編輯器下方新增一個 csave 按鈕, 意即 collabrative save, 當動態網際管理系統在多人同時維護登入維護網頁內容時, 編輯各頁面時段, 該頁面可能已經改版, 因此使用 csave 按鈕存檔時, 會導入當下最新的該頁面內容, 並試圖與編輯中的頁面內容進行合併.</p>
<p>使用 csave 按鈕存檔無法刪除頁面資料.</p>
<p>使用 Edit All 模式, 無法使用 csave 按鈕（尚未測試).</p>
<p></p>
<p></p>